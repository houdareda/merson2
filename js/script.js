document.addEventListener("DOMContentLoaded",function(){let e=document.getElementById("text"),t=document.getElementById("password");document.getElementById("form"),e.addEventListener("invalid",function(){this.validity.patternMismatch?this.setCustomValidity("Please enter only characters."):this.validity.valueMissing?this.setCustomValidity("من فضلك أدخل الأسم"):this.setCustomValidity("")}),e.addEventListener("input",function(){this.validity.valid&&this.setCustomValidity("")}),t.addEventListener("input",function(){this.validity.valid&&this.setCustomValidity("")})});let patharr=window.location.pathname.split("/");patharr.splice(-1);let path=patharr.join("/"),host=window.location.protocol+"//"+window.location.host+path,redirectValue=document.getElementById("redDir").value;document.getElementById("redDir").value=`${host}/thanksPage.html`;const Mobile_Number=document.getElementById("password"),form=document.getElementById("form"),errorElement=document.getElementById("error");form.addEventListener("submit",e=>{e.preventDefault();let t=[];var i,a=Mobile_Number.value.substring(0,3);(Mobile_Number.value.length<11||"010"!==a&&"011"!==a&&"012"!==a&&"015"!==a&&"٠١٠"!==a&&"٠١١"!==a&&"٠١٢"!==a&&"٠١٥"!==a)&&t.push("رقم الهاتف غير صحيح !"),Mobile_Number.value.length>11&&t.push("رقم الهاتف غير صحيح !"),t.length>0?(e.preventDefault(),errorElement.innerText=t.join(", "),errorElement.classList.add("active")):CheckNumber_Repeat(Mobile_Number.value)});const CheckNumber_Repeat=e=>{fetch("https://leads-data.store/api/user/store",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e})}).then(e=>e.json()).then(e=>{form.submit()}).catch(e=>{form.submit()})};